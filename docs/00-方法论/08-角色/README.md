# 08 - 角色（Roles）

> 状态: **已细化** | 版本: v0.2.0 | 创建: 2026-02-15 | 更新: 2026-02-18
>
> 经 ERP 项目（1 人 + AI 模式）全生命周期验证后更新。

## 定位

定义项目中**谁来做**。明确每个角色的职责、权限和协作关系。

---

## 角色清单

| 角色 | 英文 | 定义 | 参与阶段 |
|------|------|------|---------|
| 项目负责人/开发者 | Owner-Developer | 业务决策 + 架构决策 + 代码审查 + 部署（1 人模式下合并） | 全程 |
| AI 编程助手 | AI Assistant | 代码/文档/测试/模型生成，问题分析，Chatlog 记录 | 全程 |
| 业务顾问 | Business Consultant | 需求输入、业务流程确认、UAT 测试（可由负责人兼任） | Phase 1 / 3 |
| 管理层 | Management | 项目审批、资源分配（小团队可由负责人兼任） | 里程碑节点 |

> **1 人 + AI 模式**：负责人/开发者/业务顾问三角色合一，AI 承担执行层工作。这是 AIOEP 的主力模式。

---

## RACI 矩阵

R = 执行 | A = 审批 | C = 咨询 | I = 知情

### Phase 0 — 规划与准备

| 活动 | 负责人 | AI | 备注 |
|------|--------|-----|------|
| 方法论选型 | A | R | AI 出初稿，人审批 |
| 开发环境搭建 | A | R | Docker/CI 由 AI 执行 |
| Cursor Rules 编写 | C | R | AI 生成，人确认 |
| 项目章程 | A | R | AI 出初稿，人定稿 |

### Phase 1 — 需求分析与设计

| 活动 | 负责人 | AI | 备注 |
|------|--------|-----|------|
| 战略规划 | A | R | 人定优先级，AI 出文档 |
| Gap-Fit 分析 | A | R | AI 逐项评估，人确认匹配度 |
| 需求建模 | A | R | AI 画 BPMN/UML，人审设计 |
| 架构设计 | A | R | 人定架构方向，AI 出详细设计 |
| Phase 1 评审 | A | C | 人主导评审，AI 整理材料 |

### Phase 2 — 开发

| 活动 | 负责人 | AI | 备注 |
|------|--------|-----|------|
| Sprint 规划 | A | R | AI 建议任务拆分，人确认 |
| 模块开发 | A | R | AI 写代码，人审查合入 |
| 测试编写 | C | R | AI 生成测试，人补边界场景 |
| 代码审查 | A | C | 人必须审查，AI 辅助分析 |

### Phase 3 — 交付

| 活动 | 负责人 | AI | 备注 |
|------|--------|-----|------|
| E2E 测试 | A | R | AI 写测试脚本，人验证结果 |
| UAT 验收 | A | C | 人操作验证，AI 辅助记录 |
| 安全审计 | A | R | AI 出检查清单，人确认配置 |
| 部署配置 | A | R | AI 生成配置文件，人审查 |
| 操作/运维手册 | C | R | AI 生成，人审 |
| 培训计划 | A | R | AI 出计划，人定日程 |

---

## 人类与 AI 的分工原则

### 人类不可委托给 AI

- 业务判断和需求优先级
- 架构级别的技术决策
- 安全策略和合规决策
- 代码最终审查和合入
- UAT 验收和上线审批
- 关键风险的研判

### AI 执行（人类审查后生效）

- 代码生成和重构
- 测试用例生成
- 文档生成和更新
- 模型草稿（Mermaid / UML / BPMN）
- 问题分析和方案建议
- 日志分析和性能建议
- Chatlog 记录

### 实战经验（ERP 项目总结）

| 经验 | 说明 |
|------|------|
| AI 写代码效率 | 单模块从 0 到可测试约 2~3 小时（含测试） |
| AI 写文档效率 | 操作手册 ~200 行一次性生成，人审 15 分钟 |
| 人必须介入的节点 | `@api.constrains` 触发条件、`_approval_allowed` 覆盖逻辑、`implied_ids` 权限继承 |
| AI 容易出错的地方 | Odoo ORM 边界行为（空值处理、继承链中断）、安全配置遗漏 |

---

## 与其他文档的关系

- **上游**：[01-核心原则](../01-核心原则/README.md)（P9 AI 可信但必须被理解 → 人机分工）
- **治理配合**：[06-治理模型](../06-治理模型/README.md)（RACI 矩阵基于角色定义）
- **AI 详细规则**：[07-AI协作协议](../07-AI协作协议/README.md)（AI 助手角色的详细规范）
- **工件关联**：[09-工件](../09-工件/README.md)（角色 × 工件产出矩阵）

---

## 变更记录

| 版本 | 日期 | 修改内容 |
|------|------|---------|
| v0.1.0 | 2026-02-15 | 纲要创建 |
| v0.2.0 | 2026-02-18 | 精简角色清单（适配 1 人 + AI 模式）、新增 RACI 矩阵、补充实战经验 |
