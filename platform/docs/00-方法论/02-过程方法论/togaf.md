# TOGAF ADM（精简版）

> 状态: **参考** | 版本: v0.2.0 | 创建: 2026-02-15 | 更新: 2026-02-18
>
> TOGAF 作为 SDLC 的补充参考框架，不强制使用。SDLC 4 阶段模型是主流程。

## 定位

企业架构方法论。回答"做什么、为什么做、整体长什么样"。本项目采用 TOGAF ADM 的精简版，配合 ArchiMate 建模语言使用。在 Phase 1（基础平台 + 需求分析）阶段主导。

---

## 本项目采用的 ADM 阶段

TOGAF ADM 原有 Preliminary + Phase A~H 共 9 个阶段。本项目只采用前 5 个：

```
┌─────────────────────────────────────────────────┐
│               TOGAF ADM（精简版）                  │
│                                                   │
│  Preliminary    "准备"                             │
│  ├── 确定架构工作的范围和原则                        │
│  └── 本项目在 Phase 0 完成（方法论确认）             │
│                                                   │
│  Phase A        "架构愿景"                         │
│  ├── 定义目标业务能力和架构愿景                      │
│  └── 产出：架构愿景文档 + 干系人地图                 │
│                                                   │
│  Phase B        "业务架构"                         │
│  ├── 梳理业务流程、组织结构、业务能力                 │
│  └── 产出：BPMN 业务流程图 + ArchiMate 业务层模型    │
│                                                   │
│  Phase C        "信息系统架构"                      │
│  ├── 数据架构：核心数据实体和关系                    │
│  ├── 应用架构：系统组成和模块划分                    │
│  └── 产出：UML 数据模型 + C4 架构图                 │
│                                                   │
│  Phase D        "技术架构"                         │
│  ├── 技术选型、部署拓扑、集成方案                    │
│  └── 产出：技术架构文档 + 部署拓扑图                 │
│                                                   │
│  Phase E~H      ✗ 不采用                          │
│  理由：实施治理对 1人+AI 团队过重                    │
└─────────────────────────────────────────────────┘
```

## ADM 阶段 x 项目阶段 映射

| ADM 阶段 | 项目阶段 | 活动 | 产出工件 |
|---------|---------|------|---------|
| Preliminary | Phase 0 | 方法论确认、工具链搭建 | AI-EADM 文档体系 |
| Phase A 架构愿景 | Phase 1 前半 | 目标定义、干系人分析 | 架构愿景文档 |
| Phase B 业务架构 | Phase 1 | 业务流程梳理、Gap-Fit 分析 | BPMN 流程图、BRD |
| Phase C 信息系统架构 | Phase 1 后半 ~ Phase 2 初 | 数据模型、模块划分 | UML 类图、C4 图 |
| Phase D 技术架构 | Phase 1 后半 | 技术选型确认、部署设计 | 技术架构文档 |

## Gap-Fit 分析方法

Gap-Fit 是 TOGAF 的核心实践之一，用于评估需求与现有能力（Odoo 标准功能）之间的差距。

### 分析流程

```
Step 1: 收集业务需求
  ├── 业务方访谈 / 现有流程文档
  └── 整理为结构化需求列表

Step 2: 对比 Odoo 标准功能
  ├── 逐项对比需求与 Odoo 模块功能
  └── AI 辅助分析 Odoo 源码和文档

Step 3: 分类标记
  ├── Fit        → 直接配置使用
  ├── Partial Gap → 继承扩展（_inherit）
  ├── Full Gap   → 全新模块开发 或 外部服务
  └── Out of Scope → 放入后续迭代

Step 4: 制定应对策略
  └── 每个 Gap 项确定实现方式和工作量
```

### Gap-Fit 分析表模板

| 编号 | 需求描述 | Odoo 标准功能 | 匹配度 | 处理策略 | 工作量 |
|------|---------|-------------|--------|---------|--------|
| REQ-001 | 示例：多级审批 | 基础审批 | Partial Gap | _inherit 扩展 | M |
| REQ-002 | 示例：微信支付 | 无 | Full Gap | 外部服务集成 | L |

工作量：S（<1天）/ M（1~3天）/ L（3~5天）/ XL（>5天）

### 处理策略优先级

```
1. Fit（配置）     → 零开发，直接用         成本最低
2. Config Gap      → 通过 Odoo 设置解决     成本低
3. Partial Gap     → _inherit 继承扩展      成本中
4. Full Gap        → 全新模块/外部服务       成本高
5. Out of Scope    → 放入后续版本           延后
```

> **核心原则：配置优先于定制，定制优先于重写。**

---

## 与 ArchiMate 的配合

| ADM 阶段 | ArchiMate 建模层 | 建模内容 |
|---------|----------------|---------|
| Phase A 架构愿景 | 动机层 | 目标、驱动力、原则 |
| Phase B 业务架构 | 业务层 | 业务流程、角色、服务 |
| Phase C 信息系统 | 应用层 + 数据层 | 应用组件、数据实体 |
| Phase D 技术架构 | 技术层 | 基础设施、平台、网络 |

> 建模工具和详细规范见 [ArchiMate](../03-建模体系/archimate.md)

---

## 待填充内容

- [ ] 架构愿景文档模板（Phase 1 开始时创建）
- [ ] Gap-Fit 分析的完整示例（Phase 1 实际执行时补充）
- [ ] ArchiMate 各层建模指南（待 03-建模体系/archimate.md 填充）

## 与其他文档的关系

- **上游**：[02-过程方法论 README](./README.md)
- **建模工具**：[ArchiMate](../03-建模体系/archimate.md)
- **阶段定义**：[sdlc.md](./sdlc.md)
- **下游产出**：[系统架构设计](../../02-项目/系统架构设计.md)

---

## 变更记录

| 版本 | 日期 | 修改内容 |
|------|------|---------|
| v0.1.0 | 2026-02-15 | 占位创建 |
| v0.2.0 | 2026-02-15 | 填充 ADM 精简用法、Gap-Fit 方法、ArchiMate 配合 |
